var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,i=(t,a,c)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[a]=c,r=(e,r)=>{for(var s in r||(r={}))a.call(r,s)&&i(e,s,r[s]);if(t)for(var s of t(r))c.call(r,s)&&i(e,s,r[s]);return e};import{o as s,c as l,w as o,a as n,d as h,r as d,F as f,e as u,n as g,i as m,S as y,l as p,b,t as D,y as S,z as L}from"./index.e149a40e.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";var v=C({data(){return{height:"100%",giveList:[],sourceSelectList:[],apis:{getTreeForUser:()=>this.PB.apiRoute("/api/crm/param/exam/getTreeForUser",null,"GET")},dbData:[],leftData:[],rightData:[],currentSelectList:[],currentSelectLeftCode:null}},onLoad(){this.loadData()},methods:{loadData(){this.PB.ajax(this.apis.getTreeForUser(),{cacheKey:"combo_getTreeForUser",cacheTime:10}).then((e=>{this.dbData=e.data,this.dbData.length>0&&(this.leftData=this.dbData,this.currentSelectLeftCode=this.leftData[0].code,this.initRightData())}))},initRightData(){this.rightData=this.dbData.find((e=>e.code===this.currentSelectLeftCode)).children;let e=this.currentSelectList.find((e=>e.code===this.currentSelectLeftCode));e&&e.children.forEach((e=>{this.rightData.forEach((t=>{e.code===t.code&&(this.$set(t,"isSelect",!0),console.log(`${e.code} r.isSelect:`,t.isSelect),console.log(`${e.code}:`,JSON.stringify(t)),console.log(`${e.code}:`,t))}))}))},onChangeChkBox(e,t){let a=this.currentSelectList.find((e=>e.code===this.currentSelectLeftCode));if(a){var c=this.dbData.find((e=>e.code===this.currentSelectLeftCode)).children.find((e=>e.code===t.code));a.children.push(r({},c))}else{a=this.dbData.find((e=>e.code===this.currentSelectLeftCode));let e=r({},a);c=this.dbData.find((e=>e.code===this.currentSelectLeftCode)).children.find((e=>e.code===t.code));e.children=[r({},c)],this.currentSelectList.push(e)}},onClickLeft(e){this.currentSelectLeftCode=e,this.initRightData()}},watch:{currentSelectList:{deep:!0,handler(e,t){console.log("my-combo,this.currentSelectList:",this.currentSelectList)}},rightData:{deep:!0,handler(e,t){console.log("my-combo,this.rightData:",this.rightData)}}}},[["render",function(e,t,a,c,i,r){const C=m,v=y,_=S,k=L;return s(),l(C,{class:"my-com-wrap",style:g({height:i.height})},{default:o((()=>[n(C,{class:"my-com-tab"},{default:o((()=>[n(v,{class:"my-com-left","scroll-y":"",style:{height:"100%"}},{default:o((()=>[i.leftData.length>0?(s(!0),h(f,{key:0},d(i.leftData,((e,t)=>(s(),l(C,{onClick:t=>r.onClickLeft(e.code),class:p([i.currentSelectLeftCode===e.code?"active":"","my-com-left-nav"]),key:e.code},{default:o((()=>[b(D(e.name),1)])),_:2},1032,["onClick","class"])))),128)):u("",!0)])),_:1}),n(v,{class:"my-com-right","scroll-y":"",style:{height:"100%"},"scroll-with-animation":""},{default:o((()=>[(s(!0),h(f,null,d(i.rightData,((e,t)=>(s(),l(C,{class:"my-com-right-nav",key:e.code},{default:o((()=>[n(C,{class:"my-com-right-nav-banner"},{default:o((()=>[n(C,{class:"my-com-right-nav-title"},{default:o((()=>[b(D(e.name),1)])),_:2},1024)])),_:2},1024),n(C,{class:"my-com-right-nav-toolbar"},{default:o((()=>[n(k,{onChange:t=>r.onChangeChkBox(t,e)},{default:o((()=>[n(_,{checked:e.isSelect,value:e.code},null,8,["checked","value"])])),_:2},1032,["onChange"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["style"])}],["__scopeId","data-v-2968c1ab"]]);export{v as default};
